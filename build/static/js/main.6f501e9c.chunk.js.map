{"version":3,"sources":["components/PersonForm.js","services/persons.js","components/Contact.js","components/ContactList.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","function","value","name","onChange","nameHandler","number","numberHandler","type","baseUrl","axios","get","then","response","data","newPersonObject","post","id","delete","personObject","put","Contact","onClick","personService","setPersons","persons","filter","person","setMessage","setTimeout","catch","error","ContactList","sortFuncion","a","b","fa","toLowerCase","fb","search","nameToSearch","sort","map","startsWith","action","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","newName","setNewName","newNumber","setNewNumber","contactName","setContactName","useEffect","initialPersons","event","preventDefault","includes","window","confirm","personId","findIndex","returnedPerson","indexOf","concat","updatePerson","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f501e9c.chunk.js","sourcesContent":["import React from 'react';\n\nconst PersonForm = (props) => {\n\n\treturn (\n\t\t<form onSubmit={props.function}>\n\t\t\t<div>\n\t\t\t<span>Name: </span>\n\t\t\t\t<input \n\t\t\t\t\tvalue={props.name} \n\t\t\t\t\tonChange={props.nameHandler} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t<span>Number: </span>\n\t\t\t\t<input\n\t\t\t\t\tvalue={props.number}\n\t\t\t\t\tonChange={props.numberHandler} />\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n      \t</form>\n\t);\n\n}\n\nexport default PersonForm;\n","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:8080/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then(response => response.data);\n}\n\nconst create = newPersonObject => {\n\tconst request = axios.post(baseUrl, newPersonObject);\n\treturn request.then(response => response.data);\n}\n\nconst remove = id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then(response => response.data);\n}\n\nconst change = (id, personObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, personObject);\n\treturn request.then(response => response.data);\n}\n\nexport default {getAll, create, remove, change};","import React from 'react';\nimport personService from '../services/persons';\n\nconst Contact = (props) => {\n\n\tconst removePerson = () => {\n\t\tpersonService\n\t\t\t.remove(props.id)\n\t\t\t.then(() => {\n\t\t\t\tprops.setPersons(props.persons.filter(person => person.id !== props.id));\n\t\t\t\tprops.setMessage(`${props.name} was removed successfully`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tprops.setMessage(null)\n\t\t\t\t}, 3000);\n\t\t\t})\n\t\t\t.catch (error => {\n\t\t\t\tprops.setMessage(`${props.name} is already deleted`);\n\t\t\t\tsetTimeout(() => {\n          \t\t\tprops.setMessage(null)\n        \t\t\t}, 3000);\n\t\t\t\tprops.setPersons(props.persons.filter(person => person.id !== props.id));\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<li>\n\t\t\t{props.name}: {props.number}\n\t\t\t<button\n\t\t\t\tonClick={removePerson}>\n\t\t\t\tdelete\n\t\t\t</button>\n\t\t</li>\n\t);\n}\n\nexport default Contact;","import React from 'react';\nimport Contact from \"./Contact\";\n\nconst ContactList = (props) => {\n\n\tconst sortFuncion = (a, b) => {\n\t\tlet fa = a.name.toLowerCase(),\n\t\tfb = b.name.toLowerCase();\n\t\tif (fa < fb) return -1;\n\t\tif (fa > fb) return 1;\n\t\treturn 0;\n\t}\n\n\tconst search = (nameToSearch, persons) => {\n\t\tif (nameToSearch === '') {\n\t\t  return (\n\t\t\tpersons\n\t\t\t\t.sort(sortFuncion)\n\t\t\t\t.map(person =>\n\t\t\t\t\t<Contact key={person.id} id={person.id} name={person.name} number={person.number} persons={props.persons} setPersons={props.setPersons} setMessage={props.setMessage} />)\n\t\t  );\n\t\t} else {\n\t\t  return (\n\t\t\tpersons\n\t\t\t\t.filter(person => person.name.toLowerCase().startsWith(nameToSearch.toLowerCase()))\n\t\t\t\t.sort(sortFuncion)\n\t\t\t\t.map(person =>\n\t\t\t\t\t<Contact key={person.id} id={person.id} name={person.name} number={person.number} persons={props.persons} setPersons={props.setPersons} setMessage={props.setMessage} />)\n\t\t  );\n\t\t}\n\t  }\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={props.action}> \n\t\t\t\t<div>\n\t\t\t\t<span>Search by name: </span>\n\t\t\t\t\t<input \n\t\t\t\t\t\tvalue={props.name}\n\t\t\t\t\t\tonChange={props.nameHandler} />\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t<ul>\n\t\t\t\t{props.name !== '' ? search(props.name, props.persons) : search('', props.persons)}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nexport default ContactList;","import React from 'react';\n\nconst Notification = ({message}) => {\n\n\tif (message === null) return null;\n\n\tconst spanStyle = {\n\t\tcolor: 'green',\n\t\tbackground: 'lightgrey',\n  \t\tfontSize: 14,\n  \t\tborderStyle: 'solid',\n  \t\tborderRadius: 5,\n  \t\tpadding: 10,\n  \t\tmarginBottom: 10\n\t}\n\n\treturn (\n\t\t<div style={spanStyle}>{message}</div>\n\t)\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport ContactList from './components/ContactList';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [contactName, setContactName] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        setMessage(\"Can't retrive contacts from database\");\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000);\n      })\n  }, []);\n\n  const updatePerson = () => {\n    const personId = persons[persons.findIndex(person => person.name === newName)].id;\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    personService\n      .change(personId, personObject)\n      .then((returnedPerson) => {\n        setPersons(\n          persons\n            .filter(person => \n              persons.indexOf(person) !== persons.findIndex(person => person.name === newName && person.number !== newNumber))\n            .concat(returnedPerson))\n      })\n      .catch(error => {\n        setMessage(`Error updating ${newName}`);\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000);\n        setPersons(persons.filter(person => person.name !== newName));\n      });\n  }\n\n  const addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\n\t\tif (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is already added to phonebook. Do you want to change the number?`)) {\n        updatePerson();\n        setMessage(`${newName} was updated successfully`);\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000);\n        setNewName('');\n        setNewNumber('');\n      } else {\n        setNewName('');\n      }\n\t\t} else {\n\t\t  const personObject = {\n\t\t\t  name: newName,\n\t\t\t  number: newNumber,\n\t\t  }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setMessage(`${newName} was added successfully`);\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n          setNewName('');\n          setNewNumber('');\n      });\n\t\t}\n\t}\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleContactNameChange = (event) => {\n    setContactName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  return (\n    <div>\n\n      <Notification message={message} />\n\n      <h2>Phonebook</h2>\n\n      <h3>Add new contact</h3>\n      <PersonForm \n        function={addPerson} \n        name={newName} \n        nameHandler={handleNameChange}\n        number={newNumber}\n        numberHandler={handleNumberChange}\n      />\n      \n      <h3>Contacts</h3>\n      <ContactList \n        action={setContactName}\n        name={contactName}\n        nameHandler={handleContactNameChange}\n        persons={persons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n      />\n\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}